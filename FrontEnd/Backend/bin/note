# Java Swing Shopping Cart System (PostgreSQL)

This version is **rewritten from scratch** to match **your DBConnection (package db)** and the **video requirements**.

‚úî Uses your database: `com3e3`
‚úî Full CRUD in GUI: **Create / View / Edit / Update / Delete**
‚úî Java Swing + JDBC + DAO + OOP

---

## 1Ô∏è‚É£ Database Connection

### File: src/db/DBConnection.java

```java
package db;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

public class DBConnection {

    private static final String URL = "jdbc:postgresql://localhost:5432/com3e3";
    private static final String USER = "postgres";
    private static final String PASSWORD = "phou@555";

    public static Connection getConnection() {
        try {
            Class.forName("org.postgresql.Driver");
            return DriverManager.getConnection(URL, USER, PASSWORD);
        } catch (ClassNotFoundException | SQLException e) {
            e.printStackTrace();
            return null;
        }
    }
}
```

---

## 2Ô∏è‚É£ Models

### File: src/model/User.java

```java
package model;

public class User {
    private int id;
    private String username;
    private String email;

    public User(int id, String username, String email) {
        this.id = id;
        this.username = username;
        this.email = email;
    }

    public User(String username, String email) {
        this.username = username;
        this.email = email;
    }

    public int getId() { return id; }
    public String getUsername() { return username; }
    public String getEmail() { return email; }
}
```

### File: src/model/Product.java

```java
package model;

public class Product {
    private int id;
    private String name;
    private double price;

    public Product(int id, String name, double price) {
        this.id = id;
        this.name = name;
        this.price = price;
    }

    public Product(String name, double price) {
        this.name = name;
        this.price = price;
    }

    public int getId() { return id; }
    public String getName() { return name; }
    public double getPrice() { return price; }
}
```

---

## 3Ô∏è‚É£ DAO Interface

### File: src/dao/CrudDAO.java

```java
package dao;

import java.util.List;

public interface CrudDAO<T> {
    void create(T t);
    List<T> findAll();
    void update(T t);
    void delete(int id);
}
```

---

## 4Ô∏è‚É£ DAO Implementations

### File: src/dao/UserDAO.java

```java
package dao;

import db.DBConnection;
import model.User;

import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class UserDAO implements CrudDAO<User> {

    public void create(User u) {
        String sql = "INSERT INTO users(username, email) VALUES (?, ?)";
        try (PreparedStatement ps = DBConnection.getConnection().prepareStatement(sql)) {
            ps.setString(1, u.getUsername());
            ps.setString(2, u.getEmail());
            ps.executeUpdate();
        } catch (Exception e) { e.printStackTrace(); }
    }

    public List<User> findAll() {
        List<User> list = new ArrayList<>();
        String sql = "SELECT * FROM users";
        try (Statement st = DBConnection.getConnection().createStatement();
             ResultSet rs = st.executeQuery(sql)) {
            while (rs.next()) {
                list.add(new User(
                        rs.getInt("user_id"),
                        rs.getString("username"),
                        rs.getString("email")
                ));
            }
        } catch (Exception e) { e.printStackTrace(); }
        return list;
    }

    public void update(User u) {
        String sql = "UPDATE users SET username=?, email=? WHERE user_id=?";
        try (PreparedStatement ps = DBConnection.getConnection().prepareStatement(sql)) {
            ps.setString(1, u.getUsername());
            ps.setString(2, u.getEmail());
            ps.setInt(3, u.getId());
            ps.executeUpdate();
        } catch (Exception e) { e.printStackTrace(); }
    }

    public void delete(int id) {
        try (PreparedStatement ps = DBConnection.getConnection()
                .prepareStatement("DELETE FROM users WHERE user_id=?")) {
            ps.setInt(1, id);
            ps.executeUpdate();
        } catch (Exception e) { e.printStackTrace(); }
    }
}
```

### File: src/dao/ProductDAO.java

```java
package dao;

import db.DBConnection;
import model.Product;

import java.sql.*;
import java.util.ArrayList;
import java.util.List;

public class ProductDAO implements CrudDAO<Product> {

    public void create(Product p) {
        String sql = "INSERT INTO products(name, price) VALUES (?, ?)";
        try (PreparedStatement ps = DBConnection.getConnection().prepareStatement(sql)) {
            ps.setString(1, p.getName());
            ps.setDouble(2, p.getPrice());
            ps.executeUpdate();
        } catch (Exception e) { e.printStackTrace(); }
    }

    public List<Product> findAll() {
        List<Product> list = new ArrayList<>();
        try (Statement st = DBConnection.getConnection().createStatement();
             ResultSet rs = st.executeQuery("SELECT * FROM products")) {
            while (rs.next()) {
                list.add(new Product(
                        rs.getInt("product_id"),
                        rs.getString("name"),
                        rs.getDouble("price")
                ));
            }
        } catch (Exception e) { e.printStackTrace(); }
        return list;
    }

    public void update(Product p) {
        String sql = "UPDATE products SET name=?, price=? WHERE product_id=?";
        try (PreparedStatement ps = DBConnection.getConnection().prepareStatement(sql)) {
            ps.setString(1, p.getName());
            ps.setDouble(2, p.getPrice());
            ps.setInt(3, p.getId());
            ps.executeUpdate();
        } catch (Exception e) { e.printStackTrace(); }
    }

    public void delete(int id) {
        try (PreparedStatement ps = DBConnection.getConnection()
                .prepareStatement("DELETE FROM products WHERE product_id=?")) {
            ps.setInt(1, id);
            ps.executeUpdate();
        } catch (Exception e) { e.printStackTrace(); }
    }
}
```

---

## 5Ô∏è‚É£ GUI (FULL CRUD)

### File: src/gui/MainFrame.java

```java
package gui;

import javax.swing.*;

public class MainFrame extends JFrame {

    public MainFrame() {
        setTitle("Shopping Cart System");
        setSize(900, 600);
        setLocationRelativeTo(null);
        setDefaultCloseOperation(EXIT_ON_CLOSE);

        JTabbedPane tabs = new JTabbedPane();
        tabs.add("Users", new UserPanel());
        tabs.add("Products", new ProductPanel());

        add(tabs);
        setVisible(true);
    }
}
```

### File: src/gui/UserPanel.java

```java
package gui;

import dao.UserDAO;
import model.User;

import javax.swing.*;
import javax.swing.table.DefaultTableModel;
import java.awt.*;

public class UserPanel extends JPanel {

    private JTable table;
    private JTextField txtId, txtName, txtEmail;
    private UserDAO dao = new UserDAO();

    public UserPanel() {
        setLayout(new BorderLayout());

        table = new JTable();
        refresh();
        table.getSelectionModel().addListSelectionListener(e -> loadSelected());
        add(new JScrollPane(table), BorderLayout.CENTER);

        JPanel form = new JPanel(new GridLayout(2, 4, 5, 5));
        txtId = new JTextField(); txtId.setEnabled(false);
        txtName = new JTextField();
        txtEmail = new JTextField();

        JButton btnAdd = new JButton("Create");
        JButton btnUpdate = new JButton("Update");
        JButton btnDelete = new JButton("Delete");

        btnAdd.addActionListener(e -> {
            dao.create(new User(txtName.getText(), txtEmail.getText()));
            refresh();
        });

        btnUpdate.addActionListener(e -> {
            dao.update(new User(Integer.parseInt(txtId.getText()), txtName.getText(), txtEmail.getText()));
            refresh();
        });

        btnDelete.addActionListener(e -> {
            dao.delete(Integer.parseInt(txtId.getText()));
            refresh();
        });

        form.add(new JLabel("ID")); form.add(txtId);
        form.add(new JLabel("Name")); form.add(txtName);
        form.add(new JLabel("Email")); form.add(txtEmail);
        form.add(btnAdd); form.add(btnUpdate); form.add(btnDelete);

        add(form, BorderLayout.SOUTH);
    }

    private void refresh() {
        DefaultTableModel model = new DefaultTableModel(new String[]{"ID", "Name", "Email"}, 0);
        dao.findAll().forEach(u -> model.addRow(new Object[]{u.getId(), u.getUsername(), u.getEmail()}));
        table.setModel(model);
    }

    private void loadSelected() {
        int r = table.getSelectedRow();
        if (r >= 0) {
            txtId.setText(table.getValueAt(r, 0).toString());
            txtName.setText(table.getValueAt(r, 1).toString());
            txtEmail.setText(table.getValueAt(r, 2).toString());
        }
    }
}
```

### File: src/gui/ProductPanel.java

```java
package gui;

import dao.ProductDAO;
import model.Product;

import javax.swing.*;
import javax.swing.table.DefaultTableModel;
import java.awt.*;

public class ProductPanel extends JPanel {

    private JTable table;
    private JTextField txtId, txtName, txtPrice;
    private ProductDAO dao = new ProductDAO();

    public ProductPanel() {
        setLayout(new BorderLayout());

        table = new JTable();
        refresh();
        table.getSelectionModel().addListSelectionListener(e -> loadSelected());
        add(new JScrollPane(table), BorderLayout.CENTER);

        JPanel form = new JPanel(new GridLayout(2, 4, 5, 5));
        txtId = new JTextField(); txtId.setEnabled(false);
        txtName = new JTextField();
        txtPrice = new JTextField();

        JButton btnAdd = new JButton("Create");
        JButton btnUpdate = new JButton("Update");
        JButton btnDelete = new JButton("Delete");

        btnAdd.addActionListener(e -> {
            dao.create(new Product(txtName.getText(), Double.parseDouble(txtPrice.getText())));
            refresh();
        });

        btnUpdate.addActionListener(e -> {
            dao.update(new Product(Integer.parseInt(txtId.getText()), txtName.getText(), Double.parseDouble(txtPrice.getText())));
            refresh();
        });

        btnDelete.addActionListener(e -> {
            dao.delete(Integer.parseInt(txtId.getText()));
            refresh();
        });

        form.add(new JLabel("ID")); form.add(txtId);
        form.add(new JLabel("Name")); form.add(txtName);
        form.add(new JLabel("Price")); form.add(txtPrice);
        form.add(btnAdd); form.add(btnUpdate); form.add(btnDelete);

        add(form, BorderLayout.SOUTH);
    }

    private void refresh() {
        DefaultTableModel model = new DefaultTableModel(new String[]{"ID", "Name", "Price"}, 0);
        dao.findAll().forEach(p -> model.addRow(new Object[]{p.getId(), p.getName(), p.getPrice()}));
        table.setModel(model);
    }

    private void loadSelected() {
        int r = table.getSelectedRow();
        if (r >= 0) {
            txtId.setText(table.getValueAt(r, 0).toString());
            txtName.setText(table.getValueAt(r, 1).toString());
            txtPrice.setText(table.getValueAt(r, 2).toString());
        }
    }
}
```

---

## 6Ô∏è‚É£ Main Class

### File: src/Main.java

```java
import gui.MainFrame;

public class Main {
    public static void main(String[] args) {
        new MainFrame();
    }
}
```

---

## ‚úÖ RESULT

‚úî Matches your database
‚úî Full CRUD in GUI
‚úî Uses DAO + OOP
‚úî Ready for submission

---

If you want next:

* üõí Cart Add / Remove / Total
* üîê Login & Register
* üé® UI Styling like your video
* üì¶ ZIP-ready project

Just say the word üëç
